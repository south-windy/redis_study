# 一、认识NoSQL

SQL：关系型数据库

NoSQL：非关系型数据库

|          | SQL                                                          | NoSQL                                                        |
| -------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 数据结构 | 结构化（Structured）                                         | 非结构化                                                     |
| 数据关联 | 关联的（Relational）                                         | 非关联的                                                     |
| 查询方式 | SQL查询                                                      | 非SQL                                                        |
| 事务特性 | ACID                                                         | BASE                                                         |
| 存储方式 | 磁盘（核心数据）                                             | 内存                                                         |
| 拓展性   | 垂直                                                         | 水平                                                         |
| 使用场景 | 1）数据结构固定  <br />2）相关业务对数据安全性、一致性要求较高 | 1）数据结构不固定<br />2）对一致性、安全性要求不高<br />3）对性能要求高 |

# 二、认识Redis

Redis诞生于2009年全称是**Re**mote **Di**ctionary **S**erver，远程词典服务器，是一个基于内存的键值型NOSQL数据库

**特征：**

- ​	键值 (key-value)型，value支持多种不同数据结构，功能丰富
- 单线程，每个命令具备原子性
- 低延迟，速度快(基于内存、I0多路复用、良好的编码)
- 支持数据持久化
- 支持主从集群、分片集群

# 三、安装Redis

## 	1、安装

## 	2、数据结构

​			Redis是一个key-value的数据库，key一般是String类型，不过value的类型多种多样:

​		**基本类型**

| 类型                                                      | 数据举例                 |
| --------------------------------------------------------- | ------------------------ |
| String （最基本的数据类型，二进制安全的字符串，最大512M） | hello  world             |
| Hash （key-value对的一种集合）                            | { name: "张三", age: 21} |
| List （按照添加顺序保持顺序的字符串列表）                 | [ A -> B -> C -> C ]     |
| Set （无序的字符串集合，不存在重复的元素）                | {A, B, C}                |
| SortedSet （已排序的字符串集合）                          | {A: 1, B: 2, C: 3}       |

​	**特殊类型**

| 类型                                                         | 数据举例          |
| ------------------------------------------------------------ | ----------------- |
| GEO （地理位置信息储存起来， 并对这些信息进行操作  3.2新增） | {A: (120.3,30.5)} |
| BitMap （更细化的一种操作，以bit为单位）                     | 01110110101       |
| HyperLog （基于概率的数据结构 2.8.9新增）                    | 0101010110101     |
| Stream （流 5.0新增）                                        |                   |

## 3、常用命令

### 3.1、通用命令

| 命令   | 作用                                                         |
| ------ | ------------------------------------------------------------ |
| KEYS   | 查看符合模板的所有key ，不建议在生产环境设备上使用，因为是单线程，检索会长时间占用线程 |
| DEL    | 删除KEY                                                      |
| EXISTS | 判断KEY是否存在                                              |
| EXPIRE | 给一个key设置有效期，有效期到期时该key会被自动删除           |
| TTL    | 以秒为单位返回 key 的剩余过期时间 (不存在时，返回 -2 。 当 key 存在但没有设置剩余生存时间时，返回 -1) |

### 3.2、String类型

String类型，也就是字符串类型，是Redis中最简单的存储类型。

其value是字符串，不过根据字符串的格式不同，又可以分为3类:

- 字符串:普通字符串

- int:整数类型，可以做自增、自减操作

- 浮点:浮点类型，可以做自增、自减操作

不管是哪种格式，底层都是字节数组形式存储，只不过是编码方式不同。字符串类型的最大空间不能超过512m。

| KEY      | VALUE |
| -------- | ----- |
| str      | hello |
| intNum   | 10    |
| floatNum | 9.9   |

**String类型的常见命令**

- SET: 添加或者修改已经存在的一个String类型的键值对
- GET: 根据key获取String类型的value
- MSET: 批量添加多个String类型的键值对
- MGET: 根据多个key获取多个String类型的value
- INCR: 让一个整型的key自增1
- INCRBY: 让一个整型的key自增并指定步长，例如:incrby num 2让num值自增2
- INCRBYFLOAT:让一个浮点类型的数字自增并指定步长
- SETNX: 添加一个String类型的键值对，前提是这个key不存在，否则不执行
- SETEX:添加一个String类型的键值对，并且指定有效期